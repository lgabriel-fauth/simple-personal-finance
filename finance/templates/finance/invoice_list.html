{% extends 'finance/base.html' %}
{% block title %}Faturas{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h3">Faturas</h1>
</div>
<div class="mb-3">
  <a class="btn btn-sm btn-outline-secondary" href="?status=open">Abertas/Parciais</a>
  <a class="btn btn-sm btn-outline-secondary" href="?status=closed">Fechadas</a>
  
</div>
<table class="table table-striped">
  <thead>
    <tr>
      <th>Cartão</th>
      <th>Competência</th>
      <th>Fechamento</th>
      <th>Vencimento</th>
      <th>Status</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for inv in object_list %}
    <tr>
      <td>{{ inv.card.name }}</td>
      <td>{{ inv.year }}-{{ inv.month|stringformat:"02d" }}</td>
      <td>{{ inv.closing_date|default:"-" }}</td>
      <td>{{ inv.due_date|default:"-" }}</td>
      <td>{{ inv.get_status_display }}</td>
      <td class="text-end"><a class="btn btn-sm btn-outline-primary" href="{% url 'finance:invoice_detail' inv.pk %}">Detalhes</a></td>
    </tr>
    {% empty %}
    <tr><td colspan="6">Nenhuma fatura.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
